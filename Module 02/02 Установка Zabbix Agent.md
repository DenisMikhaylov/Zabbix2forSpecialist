---
Практическая работа:
    Название: 'Установка Zabbix.'
    Действие: 'Модуль Второй'
    Задача: ' Установка агентов'
---
# **Создание сервисов и сети предприятия**

В данной практической работе мы установим агентов Zabbix .

Этапы создания стенда:

- Установка агентов

Имена пользователей и пароли:
```
Для denian
login: sa
password: 111

login: root 
password: 111
```
```
Для Windows
login: Administrator
password: Pa$$w0rd
```
### **Практическая работа**

### **Задача 1: Установки агента на Gate **

1. Запустите терминул для виртуальной машины Gate под учетной записью студент указанной сверху.

2. Получите права супер пользователя.

```
student@server:~$ su -
```
```
< Введите пароль пользователя student >
```


3. Открыть на хосте любой доступный браузер

4. Открыть страницу 

```
https://www.zabbix.com/ru/download
```
3. Выбрать параметры: Версию Zabbix 7.2, ОС Debian 12, Вариант установки Agent

4. Выполнить действия описаные на сайте


5. Настройка агента Откройте файл конфигурации агента Zabbix:
```
nano /etc/zabbix/zabbix_agentd.conf
```
6. Обновите параметры Server , чтобы они указывали на IP-адрес вашего сервера Zabbix:
```
Server=<Zabbix_Server_IP>
```
7. Запуск агента Включите и запустите службу агента Zabbix:
```
sudo systemctl enable zabbix-agent
sudo systemctl start zabbix-agent
```
### **Задача 2: Установки агента на Debian **

1. Запустите терминул для виртуальной машины Debian под учетной записью студент указанной сверху.

2. Получите права супер пользователя.

```
student@server:~$ su -
```
```
< Введите пароль пользователя student >
```


3. Открыть любой доступный браузер

4. Открыть страницу 

```
https://www.zabbix.com/ru/download
```
3. Выбрать параметры: Версию Zabbix 7.2, ОС Debian 12, Вариант установки Agent

4. Выполнить действия описаные на сайте


5. Настройка агента Откройте файл конфигурации агента Zabbix:
```
nano /etc/zabbix/zabbix_agentd.conf
```
6. Обновите параметры Server , чтобы они указывали на IP-адрес вашего сервера Zabbix:
```
Server=<Zabbix_Server_IP>
```
7. Запуск агента Включите и запустите службу агента Zabbix:
```
sudo systemctl enable zabbix-agent
sudo systemctl start zabbix-agent
```
### **Задача 3: Установки агента на Windows **

1. Войти на WinServer
  
3. Учетная запись Administrator
   
5. Открыть любой доступный браузер

6. Открыть страницу 

```
https://www.zabbix.com/ru/download
```
5. Скачать агента для Windows amd 64, версия 7.2 , OpenSSL, MSI, версия 1

6. Запустить усановку агента с правами администратора , следуя инструкциям на экране. Во время установки укажите IP-адрес сервера Zabbix.


### **Задача 4: Провенрка работы агентов **

1. Запустите терминул для виртуальной машины Server под учетной записью указанной сверху.

2. Получите права супер пользователя.

```
su -
```
```
< Введите пароль пользователя student >
```

3. Получить список элементов агента
```
zabbix_agentd -p
```
```
zabbix_agentd -p | grep agent.version
```
```
zabbix_agentd -p | grep vm.memory.size
```
```
zabbix_agentd -t vm.memory.size[available]
```
```
cat /proc/meminfo | grep MemAvailable
```
```
zabbix_agentd -t system.sw.packages
```

3. Проверка получения данных zabbix сервера с агентов

4. Устанавливаем утилиту на zabbix сервер

```
apt-get install zabbix-get
```
5. Проверка связи с агентом
   
7. Получить список ip адресов:
```
Gate
Debian
Windows
```
9. Проверить получение данных для каждого агента

```
zabbix_get -s 192.168.10.20 -p 10050 -k agent.version
zabbix_get -s 192.168.10.1 -p 10050 -k agent.version
zabbix_get -s 192.168.10.10 -p 10050 -k agent.version
```

